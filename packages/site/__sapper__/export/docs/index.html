<!DOCTYPE html> <html lang=en> <head> <meta content="width=device-width,initial-scale=1" name=viewport> <meta charset=utf-8> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=/penguin.gif rel=preload as=image> <link href=/penguin_static.gif rel=preload as=image> <link href=/android-icon-192x192.png rel=icon sizes=192x192 type=image/png> <link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png> <link href=/favicon-96x96.png rel=icon sizes=96x96 type=image/png> <link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png> <meta content="mdsvex - svelte in markdown" name=title> <meta content="Combine svelte and markdown in the same file. Live your dreams!" name=description> <meta content=website property=og:type> <meta content=https://mdsvex.com/ property=og:url> <meta content="mdsvex - svelte in markdown" property=og:title> <meta content="Combine svelte and markdown in the same file. Live your dreams!" property=og:description> <meta content=https://mdsvex.com/og.png property=og:image> <meta content=summary_large_image property=twitter:card> <meta content=https://mdsvex.com/ property=twitter:url> <meta content="mdsvex - svelte in markdown" property=twitter:title> <meta content="Combine svelte and markdown in the same file. Live your dreams!" property=twitter:description> <meta content=https://mdsvex.com/og.png property=twitter:image> <link href=client/client-54e829cf.css rel=stylesheet><link href=client/docs-c9a69be6.css rel=stylesheet> <title>mdsvex docs!</title> <link href=/client/client.a3af9818.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-54e829cf.css rel=preload as=style><link href=/client/docs.870645ae.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client.37198c41.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.803b7e80.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/docs-c9a69be6.css rel=preload as=style></head> <body> <div id=sapper> <nav class=svelte-p2hwa7><ul class=svelte-p2hwa7> <li class=svelte-p2hwa7><a href=/ class=svelte-p2hwa7>mdsvex</a></li> <li class=svelte-p2hwa7><a href=/docs class=svelte-p2hwa7>docs</a></li> <li class=svelte-p2hwa7><a href=/playground class=svelte-p2hwa7>try</a></li> <li class=svelte-p2hwa7><a href=https://www.github.com/pngwn/mdsvex class=svelte-p2hwa7>github</a></li> </ul></nav> <main><div class="cheatsheet svelte-177ikrt"><div class=container> <div class="box install"> <h2><a href=docs#install-it>Install</a></h2> <p>Quick installation instructions.</p> <pre class=language-bash>
<code class=language-bash><span class="token function">npm</span> i -D mdsvex</code>
</pre> <pre class=language-bash>
<code class=language-bash><span class="token function">yarn</span> <span class="token function">add</span> --dev mdsvex</code>
</pre> </div> <div class="box use"> <h2><a href=docs#use-it>Use</a></h2> <p>Add mdsvex to your project</p> <pre class=language-js>
<code class=language-js><span class="token function">svelte</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  extensions<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'.svelte'</span><span class="token punctuation">,</span>
    <span class="token string">'.svx'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  preprocess<span class="token operator">:</span> <span class="token function">mdsvex</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code>
</pre> </div> <div class="box config"> <h2><a href=/docs#options>Configure</a></h2> <dl> <dt> <a href=docs#extensions><span>extensions</span></a> </dt> <dd>use custom extensions</dd> <dt> <a href=docs#smartypants><span>smartypants</span></a> </dt> <dd>fancy typography</dd> <dt> <a href=docs#layout><span>layout</span></a> </dt> <dd>custom layouts</dd> <dt> <a href=docs#remarkplugins--rehypeplugins><span>remarkPlugins</span></a> </dt> <dd>use remark plugins</dd> <dt> <a href=docs#remarkplugins--rehypeplugins><span>rehypePlugins</span></a> </dt> <dd>use rehype plugins</dd> <dt> <a href=docs#highlight><span>highlight</span></a> </dt> <dd>syntax highlighting</dd> <dt> <a href=docs#frontmatter><span>frontmatter</span></a> </dt> <dd>change frontmatter language</dd> </dl> </div> <div class="box layouts"> <h2><a href=docs#layouts>Layouts</a></h2> <p>Custom layouts for mdsvex documents.</p> <h3><a href=docs#named-layouts>named layouts</a></h3> <p>Reference layouts by name.</p> <pre class=language-svx>
<code class=language-svx><span class="token frontmatter"><span class="token punctuation">---
</span><span class="token language-yaml"><span class="token key atrule">layout</span><span class="token punctuation">:</span> blog
</span><span class="token punctuation">---</span></span></code>
</pre> <h3><a href=docs#disabling-layouts>disabling layouts</a></h3> <p>Disable named layouts when needed.</p> <pre class=language-svx>
<code class=language-svx><span class="token frontmatter"><span class="token punctuation">---
</span><span class="token language-yaml"><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</span><span class="token punctuation">---</span></span></code>
</pre> <h3><a href=docs#custom-components>custom components</a></h3> <p class=keep>Replace HTML elements with custom components.</p> </div> <div class="frontmatter box"> <h2><a href=docs#frontmatter-1>Frontmatter</a></h2> <p>Use frontmatter values directly in markdown.</p> <pre class=language-mdsvex>
<code class=language-mdsvex><span class="token frontmatter"><span class="token punctuation">---
</span><span class="token language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> Fabuloso
</span><span class="token punctuation">---</span></span>

<span class="token important title"><span class="token punctuation">#</span> <span class="token language-javascript"><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span></span></code>
</pre> </div> <div class="box integrations"> <h2><a href=docs#integrations>Integrations</a></h2> <p class=keep>Using mdsvex with other things</p> </div> </div></div> <div style=position:relative> <div class="container svelte-t254dh"><article class=svelte-t254dh> <h1 id=mdsvex><a href=#mdsvex aria-hidden=true><span class="icon icon-link"></span></a>mdsvex</h1> <p>mdsvex is a markdown preprocessor for <a href=https://svelte.dev/ rel=nofollow>Svelte</a> components. Basically <a href=https://mdxjs.com/ rel=nofollow>MDX</a> for Svelte.</p> <p>This preprocessor allows you to use Svelte components in your markdown, or markdown in your Svelte components.</p> <p>mdsvex supports all Svelte syntax and <em>almost</em> all markdown syntax. See <a href=docs/#limitations>limitations</a> for more information.</p> <p>You can do this:</p> <pre class=language-svx>
<code class=language-svx><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">{</span> Chart <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../components/Chart.svelte"</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token important title"><span class="token punctuation">#</span> Here’s a chart</span>

The chart is rendered inside our MDsveX document.

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Chart</span> <span class="token punctuation">/></span></span></code>
</pre> <p>It uses <a href=https://unifiedjs.com/ rel=nofollow>unified</a>, <a href=https://github.com/remarkjs rel=nofollow>remark</a> and <a href=https://github.com/rehypejs/rehype rel=nofollow>rehype</a> and you can use any <a href=https://github.com/remarkjs/remark/blob/main/doc/plugins.md#list-of-plugins rel=nofollow>remark plugins</a> or <a href=https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins rel=nofollow>rehype plugins</a> to enhance your experience.</p> <p><a href=/playground>Try it</a></p> <h2 id=install-it><a href=#install-it aria-hidden=true><span class="icon icon-link"></span></a>Install it</h2> <p>Install it as a dev-dependency.</p> <p>With <code>npm</code>:</p> <pre class=language-bash>
<code class=language-bash><span class="token function">npm</span> i --save-dev mdsvex</code>
</pre> <p>With <code>yarn</code>:</p> <pre class=language-bash>
<code class=language-bash><span class="token function">yarn</span> <span class="token function">add</span> --dev mdsvex</code>
</pre> <h2 id=use-it><a href=#use-it aria-hidden=true><span class="icon icon-link"></span></a>Use it</h2> <p>There are two named exports from <code>mdsvex</code> that can be used to transform mdsvex documents, <code>mdsvex</code> and <code>compile</code>. <code>mdsvex</code> is a Svelte preprocessor and is the preferred way to use this library. The <code>compile</code> function is useful when you wish to compile mdsvex documents to Svelte components directly, without hooking into the Svelte compiler.</p> <h3 id=mdsvex-1><a href=#mdsvex-1 aria-hidden=true><span class="icon icon-link"></span></a><code>mdsvex</code></h3> <p>The <code>mdsvex</code> preprocessor function is a named import from the <code>mdsvex</code> module. Add it as a preprocessor to your rollup or webpack config, and tell the Svelte plugin or loader to also handle <code>.svx</code> files.</p> <p>With rollup and <code>rollup-plugin-svelte</code>:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> mdsvex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"mdsvex"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>boring_config_stuff<span class="token punctuation">,</span>
	plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token function">svelte</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token comment">// these are the defaults. If you want to add more extensions, see https://mdsvex.pngwn.io/docs#extensions</span>
			extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".svelte"</span><span class="token punctuation">,</span> <span class="token string">".svx"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			preprocess<span class="token operator">:</span> <span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code>
</pre> <p>With webpack and <code>svelte-loader</code>:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">const</span> <span class="token punctuation">{</span> mdsvex <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mdsvex'</span><span class="token punctuation">)</span>

<span class="token comment">// add ".svx" to the extensions array</span>
<span class="token keyword">const</span> extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'.mjs'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">,</span> <span class="token string">'.svelte'</span><span class="token punctuation">,</span> <span class="token string">'.html'</span><span class="token punctuation">,</span> <span class="token string">'.svx'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>boring_config_stuff<span class="token punctuation">,</span>
	resolve<span class="token operator">:</span> <span class="token punctuation">{</span> alias<span class="token punctuation">,</span> extensions<span class="token punctuation">,</span> mainFields <span class="token punctuation">}</span><span class="token punctuation">,</span>
	module<span class="token operator">:</span> <span class="token punctuation">{</span>
		rules<span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token comment">// tell svelte-loader to handle svx files as well</span>
				test<span class="token operator">:</span> <span class="token regex">/.(svelte|html|svx)$/</span><span class="token punctuation">,</span>
				use<span class="token operator">:</span> <span class="token punctuation">{</span>
					loader<span class="token operator">:</span> <span class="token string">'svelte-loader'</span><span class="token punctuation">,</span>
					options<span class="token operator">:</span> <span class="token punctuation">{</span>
						<span class="token operator">...</span>svelte_options<span class="token punctuation">,</span>
						preprocess<span class="token operator">:</span> <span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code>
</pre> <p>If you want to use mdsvex without a bundler because you are your own person, then you can use <code>svelte.preprocess</code> directly:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">const</span> svelte <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'svelte/compiler'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> mdsvex <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mdsvex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This will give you a valid svelte component</span>
<span class="token keyword">const</span> preprocessed <span class="token operator">=</span> <span class="token keyword">await</span> svelte<span class="token punctuation">.</span><span class="token function">preprocess</span><span class="token punctuation">(</span>
	source<span class="token punctuation">,</span>
	<span class="token function">mdsvex</span><span class="token punctuation">(</span>mdsvex_opts<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Now you can compile it if you wish</span>
<span class="token keyword">const</span> compiled <span class="token operator">=</span> svelte<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>
	preprocessed<span class="token punctuation">,</span>
	compiler_options
<span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <blockquote> <p>If you don’t like the <code>.svx</code> file extension, fear not, it is easily customised.</p> </blockquote> <h3 id=compile><a href=#compile aria-hidden=true><span class="icon icon-link"></span></a><code>compile</code></h3> <p>This option performs a very similar task to the preprocessor but it can be used directly, without needing to hook into the Svelte compiler, either directly or via a bundler. The compile option will transform valid mdsvex code into valid svelte code, but it will perform no further actions such as resolving imports.</p> <p>It supports all of the same options as the preprocessor although the function signature is slightly different. The first argument should be the mdsvex source code you wish to compile, the second argument is an object of options.</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> compile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mdsvex'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> transformed_code <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">
&lt;script>
  import Chart from './Chart.svelte';
&lt;/script>

# Hello friends

&lt;Chart />
</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span>
	mdsvexOptions
<span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>In addition to the standard mdsvex options, the options object can also take an optional <code>filename</code> property which will be passed to mdsvex. There is no significant advantage to doing this but this provided filename may be used for error reporting in the future. The extension you give to this filename must match one of the extensions provided in the options (defaults to <code>['.svx']</code>).</p> <h2 id=options><a href=#options aria-hidden=true><span class="icon icon-link"></span></a>Options</h2> <p>The preprocessor function accepts an object of options, that allow you to customise your experience. The options are global to all parsed files.</p> <pre class=language-typescript>
<code class=language-typescript><span class="token keyword">interface</span> <span class="token class-name">MdsvexOptions</span> <span class="token punctuation">{</span>
	extensions<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	smartypants<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> smartypantsOptions<span class="token punctuation">;</span>
	layout<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	remarkPlugins<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>plugin<span class="token operator">></span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token punctuation">[</span>plugin<span class="token punctuation">,</span> plugin_options<span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>
	rehypePlugins<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>plugin<span class="token operator">></span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token punctuation">[</span>plugin<span class="token punctuation">,</span> plugin_options<span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>
	highlight<span class="token operator">:</span> <span class="token punctuation">{</span> highlighter<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span> alias<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>alias<span class="token punctuation">]</span><span class="token operator">:</span> lang <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	frontmatter<span class="token operator">:</span> <span class="token punctuation">{</span> parse<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span> marker<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code>
</pre> <h3 id=extensions><a href=#extensions aria-hidden=true><span class="icon icon-link"></span></a><code>extensions</code></h3> <pre class=language-ts>
<code class=language-ts>extensions<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">".svx"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code>
</pre> <p>The <code>extensions</code> option allows you to set custom file extensions for files written in mdsvex; the default value is <code>['.svx']</code>. Whatever value you choose here must be passed to the <code>extensions</code> field of <code>rollup-plugin-svelte</code> or <code>svelte-loader</code>. If you do not change the default, you must still pass the extension name to the plugin or loader config.</p> <pre class=language-js>
<code class=language-js><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>config<span class="token punctuation">,</span>
	plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token function">svelte</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".svelte"</span><span class="token punctuation">,</span> <span class="token string">".custom"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			preprocess<span class="token operator">:</span> <span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".custom"</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code>
</pre> <p>To import markdown files as components, add <code>.md</code> to both the Svelte compiler and <code>mdsvex</code> extensions:</p> <pre class=language-js>
<code class=language-js><span class="token comment">// svelte.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mdsvex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mdsvex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.svelte'</span><span class="token punctuation">,</span> <span class="token string">'.svx'</span><span class="token punctuation">,</span> <span class="token string">'.md'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  preprocess<span class="token operator">:</span> <span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.svx'</span><span class="token punctuation">,</span> <span class="token string">'.md'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code>
</pre> <p>Then you can do:</p> <pre class=language-svx>
<code class=language-svx><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Readme <span class="token keyword">from</span> <span class="token string">'../readme.md'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Readme</span> <span class="token punctuation">/></span></span></code>
</pre> <h3 id=smartypants><a href=#smartypants aria-hidden=true><span class="icon icon-link"></span></a><code>smartypants</code></h3> <pre class=language-ts>
<code class=language-ts>smartypants<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token punctuation">{</span>
	quotes<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	ellipses<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	backticks<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token string">'all'</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	dashes<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token string">'oldschool'</span> <span class="token operator">|</span> <span class="token string">'inverted'</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code>
</pre> <p>The <code>smartypants</code> option transforms ASCII punctuation into fancy typographic punctuation HTML entities.</p> <p>It turns stuff like:</p> <pre class=language-md>
<code class=language-md>"They said it was free..."</code>
</pre> <p>into:</p> <blockquote> <p>“They said it was free…”</p> </blockquote> <p>Notice the beautiful punctuation. It does other nice things.</p> <p><code>smartypants</code> can be either a <code>boolean</code> (pass <code>false</code> to disable it) or an options object (defaults to <code>true</code>). The possible options are as follows.</p> <pre class=language-sig>
<code class=language-sig>quotes<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code>
</pre> <p>Converts straight double and single quotes to smart double or single quotes.</p> <ul> <li><code>"words"</code> <strong>becomes</strong>: “words”</li> <li><code>'words'</code> <strong>becomes</strong> ‘words’</li> </ul> <pre class=language-sig>
<code class=language-sig>ellipses<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code>
</pre> <p>Converts triple-dot characters (with or without spaces) into a single Unicode ellipsis character.</p> <ul> <li><code>words...</code> <strong>becomes</strong> words…</li> </ul> <pre class=language-sig>
<code class=language-sig>backticks<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token string">'all'</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code>
</pre> <p>When <code>true</code>, converts double back-ticks into an opening double quote, and double straight single quotes into a closing double quote.</p> <ul> <li><code>``words''</code> <strong>becomes</strong> “words”</li> </ul> <p>When <code>'all'</code> it also converts single back-ticks into a single opening quote, and a single straight quote into a closing single, smart quote.</p> <p>Note: Quotes can not be <code>true</code> when backticks is <code>'all'</code>;</p> <pre class=language-sig>
<code class=language-sig>dashes<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token string">'oldschool'</span> <span class="token operator">|</span> <span class="token string">'inverted'</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code>
</pre> <p>When <code>true</code>, converts two dashes into an em-dash character.</p> <ul> <li><code>--</code> <strong>becomes</strong> —</li> </ul> <p>When <code>'oldschool'</code>, converts two dashes into an en-dash, and three dashes into an em-dash.</p> <ul> <li><code>--</code> <strong>becomes</strong> –</li> <li><code>---</code> <strong>becomes</strong> —</li> </ul> <p>When <code>'inverted'</code>, converts two dashes into an em-dash, and three dashes into an en-dash.</p> <ul> <li><code>--</code> <strong>becomes</strong> —</li> <li><code>---</code> <strong>becomes</strong> –</li> </ul> <h3 id=layout><a href=#layout aria-hidden=true><span class="icon icon-link"></span></a><code>layout</code></h3> <pre class=language-ts>
<code class=language-ts>layout<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> RegExp<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span></code>
</pre> <p>The <code>layout</code> option allows you to provide a custom layout component that will wrap your mdsvex file like so:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MdsvexDocument</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span><span class="token punctuation">></span></span></code>
</pre> <blockquote> <p>Layout components receive all frontmatter values as props, which should provide a great deal of flexibility when designing your layouts.</p> </blockquote> <p>You can provide a <code>string</code>, which should be the path to your layout component. An absolute path is preferred but mdsvex tries to resolve relative paths based upon the current working directory.</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> join <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> path_to_layout <span class="token operator">=</span> <span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./src/Layout.svelte"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	layout<span class="token operator">:</span> path_to_layout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>In some cases you may want different layouts for different types of document, to address this you may pass an object of named layouts instead. Each key should be a name for your layout, the value should be a path as described above. A fallback layout, or default, can be passed using <code>_</code> (underscore) as a key name.</p> <pre class=language-js>
<code class=language-js><span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	layout<span class="token operator">:</span> <span class="token punctuation">{</span>
		blog<span class="token operator">:</span> <span class="token string">"./path/to/blog/layout.svelte"</span><span class="token punctuation">,</span>
		article<span class="token operator">:</span> <span class="token string">"./path/to/article/layout.svelte"</span><span class="token punctuation">,</span>
		_<span class="token operator">:</span> <span class="token string">"./path/to/fallback/layout.svelte"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <h3 id=remarkplugins--rehypeplugins><a href=#remarkplugins--rehypeplugins aria-hidden=true><span class="icon icon-link"></span></a><code>remarkPlugins</code> / <code>rehypePlugins</code></h3> <pre class=language-ts>
<code class=language-ts>remarkPlugins<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>plugin<span class="token operator">></span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token punctuation">[</span>plugin<span class="token punctuation">,</span> plugin_options<span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>
rehypePlugins<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>plugin<span class="token operator">></span> <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token punctuation">[</span>plugin<span class="token punctuation">,</span> plugin_options<span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code>
</pre> <p>mdsvex has a simple pipeline. Your source file is first parsed into a Markdown AST (MDAST), this is where remark plugins would run. Then it is converted into an HTML AST (HAST), this is where rehype plugins would be run. After this it is converted (stringified) into a valid Svelte component ready to be compiled.</p> <p><a href=https://github.com/remarkjs rel=nofollow>remark</a> and <a href=https://github.com/rehypejs/rehype rel=nofollow>rehype</a> have a vibrant plugin ecosystem and mdsvex allows you to pass any <a href=https://github.com/remarkjs/remark/blob/main/doc/plugins.md#list-of-plugins rel=nofollow>remark plugins</a> or <a href=https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins rel=nofollow>rehype plugins</a> as options, which will run on the remark and rehype ASTs at the correct point in the pipeline.</p> <p>These options take an array. If you do not wish to pass any options to a plugin then you can simply pass an array of plugins like so:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> containers <span class="token keyword">from</span> <span class="token string">"remark-containers"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> github <span class="token keyword">from</span> <span class="token string">"remark-github"</span><span class="token punctuation">;</span>

<span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	remarkPlugins<span class="token operator">:</span> <span class="token punctuation">[</span>containers<span class="token punctuation">,</span> github<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>If you <em>do</em> wish to pass options to your plugins then those array items should be an array of <code>[plugin, options]</code>, like so:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> containers <span class="token keyword">from</span> <span class="token string">"remark-containers"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> github <span class="token keyword">from</span> <span class="token string">"remark-github"</span><span class="token punctuation">;</span>

<span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	remarkPlugins<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">[</span>containers<span class="token punctuation">,</span> container_opts<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">[</span>github<span class="token punctuation">,</span> github_opts<span class="token punctuation">]</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>You can mix and match as needed, only providing an array when options are needed:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> containers <span class="token keyword">from</span> <span class="token string">"remark-containers"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> github <span class="token keyword">from</span> <span class="token string">"remark-github"</span><span class="token punctuation">;</span>

<span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	remarkPlugins<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">[</span>containers<span class="token punctuation">,</span> container_opts<span class="token punctuation">]</span><span class="token punctuation">,</span>
		github<span class="token punctuation">,</span>
		another_plugin<span class="token punctuation">,</span>
		<span class="token punctuation">[</span>yet_another_plugin<span class="token punctuation">,</span> more_options<span class="token punctuation">]</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>While these examples use <code>remarkPlugins</code>, the <code>rehypePlugins</code> option works in exactly the same way. You are free to use one or both of these options as you wish.</p> <p>Remark plugins work on the Markdown AST (MDAST) produced by remark, rehype plugins work on the HTML AST (HAST) produced by rehype and it is possible to write your own custom plugins if the existing ones do not satisfy your needs!</p> <h3 id=highlight><a href=#highlight aria-hidden=true><span class="icon icon-link"></span></a><code>highlight</code></h3> <pre class=language-ts>
<code class=language-ts>highlight<span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function function-variable">highlighter</span><span class="token operator">:</span> <span class="token punctuation">(</span>code<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lang<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span>
	alias<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>lang <span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code>
</pre> <p>Without any configuration, mdsvex will automatically highlight the syntax of over 100 languages using <a href=https://prismjs.com/ rel=nofollow>PrismJS</a>, you simply need to add the language name to the fenced code block and import the CSS file for a Prism theme of your choosing. See <a href=https://github.com/PrismJS/prism-themes rel=nofollow>here for available options</a>. Languages are loaded on-demand and cached for later use, this feature does not unnecessarily load all languages for highlighting purposes.</p> <p>Custom aliases for language names can be defined via the <code>alias</code> property of the highlight option. This property takes an object of key-value pairs: the key should be the alias you wish to define, the value should be the language you wish to assign it to.</p> <pre class=language-js>
<code class=language-js><span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	highlight<span class="token operator">:</span> <span class="token punctuation">{</span>
		alias<span class="token operator">:</span> <span class="token punctuation">{</span> yavascript<span class="token operator">:</span> <span class="token string">"javascript"</span> <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code>
</pre> <p>If you wish to handle syntax-highlighting yourself, you can provide a custom highlight function via the <code>highlighter</code> property. The function will receive two arguments, the <code>code</code> to be highlighted and the <code>lang</code> defined in the fenced code-block, both are strings. You can use this information to highlight as you wish. The function should return a string of highlighted code.</p> <p>You can disable syntax highlighting by passing a function that does nothing:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">function</span> <span class="token function">highlighter</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;pre>&lt;code></span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>code<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/code>&lt;/pre></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	highlight<span class="token operator">:</span> <span class="token punctuation">{</span>
		highlighter
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code>
</pre> <h3 id=frontmatter><a href=#frontmatter aria-hidden=true><span class="icon icon-link"></span></a><code>frontmatter</code></h3> <pre class=language-ts>
<code class=language-ts>frontmatter<span class="token operator">:</span> <span class="token punctuation">{</span> parse<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span> marker<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code>
</pre> <p>By default mdsvex supports yaml frontmatter, this is defined by enclosing the YAML in three hyphens (<code>---</code>). If you want to use a custom language or marker for frontmatter then you can use the <code>frontmatter</code> option.</p> <p><code>frontmatter</code> should be an object that can contain a <code>marker</code> and a <code>parse</code> property.</p> <pre class=language-sig>
<code class=language-sig>marker<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'-'</span><span class="token punctuation">;</span></code>
</pre> <p>The marker option defines the fence for your frontmatter. This defaults to <code>-</code> which corresponds to the standard triple-hyphen syntax (<code>---</code>) that you would normally use to define frontmatter. You can pass in a custom string to change this behaviour:</p> <pre class=language-js>
<code class=language-js><span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	frontmatter<span class="token operator">:</span> <span class="token punctuation">{</span>
		marker<span class="token operator">:</span> <span class="token string">"+"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>Now you can use <code>+++</code> to mark frontmatter. Setting <em>only</em> the marker will keep the default frontmatter parser which only supports YAML.</p> <pre class=language-sig>
<code class=language-sig><span class="token function function-variable">parse</span><span class="token operator">:</span> <span class="token punctuation">(</span>frontmatter<span class="token punctuation">,</span> message<span class="token punctuation">)</span> <span class="token operator">=></span> Object <span class="token operator">|</span> <span class="token keyword">undefined</span></code>
</pre> <p>The <code>parse</code> property accepts a function which allows you to provide a custom parser for frontmatter. This is useful if you want to use a different language in your frontmatter.</p> <p>The parse function gets the raw frontmatter as the first argument and a <code>messages</code> array as the second.</p> <p>If parsing is successful, the function should return the parsed frontmatter (as an object of key-value pairs), if there is a problem the function should return <code>undefined</code> or <code>false</code> . Any parsing errors or warnings should be pushed into the <code>messages</code> array which will be printed to the console when mdsvex has finished parsing. If you would prefer to throw an error, you are free to do so but it will interrupt the parsing process.</p> <p>In the following example, we will modify the frontmatter handling so we can write our frontmatter in TOML with a triple-<code>+</code> fence.</p> <pre class=language-js>
<code class=language-js><span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	marker<span class="token operator">:</span> <span class="token string">"+"</span><span class="token punctuation">,</span>
	<span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">frontmatter<span class="token punctuation">,</span> messages</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> toml<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>frontmatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			messages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
				<span class="token string">"Parsing error on line "</span> <span class="token operator">+</span>
					e<span class="token punctuation">.</span>line <span class="token operator">+</span>
					<span class="token string">", column "</span> <span class="token operator">+</span>
					e<span class="token punctuation">.</span>column <span class="token operator">+</span>
					<span class="token string">": "</span> <span class="token operator">+</span>
					e<span class="token punctuation">.</span>message
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>Now we will be able to write TOML frontmatter:</p> <pre class=language-mdsvex>
<code class=language-mdsvex><span class="token frontmatter-toml"><span class="token punctuation">+++
</span><span class="token language-toml"><span class="token key property">title</span> <span class="token punctuation">=</span> <span class="token string">"TOML Example"</span>

<span class="token punctuation">[</span><span class="token class-name table">owner</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"some name"</span>
<span class="token key property">dob</span> <span class="token punctuation">=</span> <span class="token date number">1879-05-27T07:32:00-08:00</span>
</span><span class="token punctuation">+++</span></span></code>
</pre> <h2 id=layouts><a href=#layouts aria-hidden=true><span class="icon icon-link"></span></a>Layouts</h2> <p>Layouts are one of the more powerful features available in mdsvex and allow for a great deal of flexibility. At their simplest a layout is just a component that wraps an mdsvex document. Providing a string as the layout option will enable this behaviour:</p> <pre class=language-js>
<code class=language-js><span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	layout<span class="token operator">:</span> <span class="token string">"./path/to/layout.svelte"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>Layouts receive all values defined in frontmatter as props:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span> <span class="token language-javascript"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- mdsvex content here --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layout</span><span class="token punctuation">></span></span></code>
</pre> <p>You can then use these values in your layout however you wish, a typical use might be to define some fancy formatting for headings, authors, and dates. Although you could do all kinds of wonderful things. You just need to make sure you provide a default <code>slot</code> so the mdsvex content can be passed into your layout and rendered.</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> title<span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> author<span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> date<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token language-javascript"><span class="token punctuation">{</span> title <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>on: <span class="token language-javascript"><span class="token punctuation">{</span> date <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>by: <span class="token language-javascript"><span class="token punctuation">{</span> author <span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- the mdsvex content will be slotted in here --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span></code>
</pre> <h3 id=named-layouts><a href=#named-layouts aria-hidden=true><span class="icon icon-link"></span></a>Named Layouts</h3> <p>In some cases you may want different layouts for different types of document. To address this you can pass an object of named layouts instead. Each key should be a name for your layout, the value should be the path to that layout file. A fallback layout, or default, can be passed using <code>_</code> (underscore) as a key name.</p> <pre class=language-js>
<code class=language-js><span class="token function">mdsvex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	layout<span class="token operator">:</span> <span class="token punctuation">{</span>
		blog<span class="token operator">:</span> <span class="token string">"./path/to/blog/layout.svelte"</span><span class="token punctuation">,</span>
		article<span class="token operator">:</span> <span class="token string">"./path/to/article/layout.svelte"</span><span class="token punctuation">,</span>
		_<span class="token operator">:</span> <span class="token string">"./path/to/fallback/layout.svelte"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>
</pre> <p>If you pass an object of named layouts, you can decide which layout to use on a file-by-file basis by declaring it in the frontmatter. For example, if you wanted to force a document to be wrapped with the <code>blog</code> layout you would do the following:</p> <pre class=language-mdsvex>
<code class=language-mdsvex><span class="token frontmatter"><span class="token punctuation">---
</span><span class="token language-yaml"><span class="token key atrule">layout</span><span class="token punctuation">:</span> blog
</span><span class="token punctuation">---</span></span></code>
</pre> <p>If you are using named layouts and do not have a layout field in the frontmatter then mdsvex will try to pick the correct one based on the folder a file is stored in. Take the following folder structure:</p> <pre class=language-null>
<code class=language->.
├── blog
│   └── my-blog-post.svx
└── article
    └── my-article.svx</code>
</pre> <p>If there is a layout named <code>blog</code> and <code>article</code> then documents in the <code>blog</code> folder will use the <code>blog</code> layout, articles in the <code>articles</code> folder will use the <code>article</code> layout. mdsvex will try to check both singular and pluralised names, as you may have named a folder <code>events</code> but the matching layout could be named <code>event</code>, however, having the same folder and layout name will make this process more reliable. The current working directory is removed from the path when checking for matches but nested folders can still cause problems if there are conflicts. Shallow folder structures and unique folder and layout names will prevent these kinds of collisions.</p> <p>If there is no matching layout then the fallback layout (<code>_</code>) will be applied, if there is no fallback then no layout will be applied.</p> <h3 id=disabling-layouts><a href=#disabling-layouts aria-hidden=true><span class="icon icon-link"></span></a>disabling layouts</h3> <p>If you are using layouts but wish to disable them for a specific component, then you can set the <code>layout</code> field to <code>false</code> to prevent the application of a layout.</p> <pre class=language-mdsvex>
<code class=language-mdsvex><span class="token frontmatter"><span class="token punctuation">---
</span><span class="token language-yaml"><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</span><span class="token punctuation">---</span></span></code>
</pre> <h3 id=custom-components><a href=#custom-components aria-hidden=true><span class="icon icon-link"></span></a>Custom Components</h3> <p>Layouts also allow you to provide custom components to any mdsvex file they are applied to. Custom components replace the elements that markdown would normally generate.</p> <pre class=language-mdsvex>
<code class=language-mdsvex><span class="token important title"><span class="token punctuation">#</span> Title</span>

Some text

<span class="token punctuation list">-</span> a
<span class="token punctuation list">-</span> short
<span class="token punctuation list">-</span> list</code>
</pre> <p>Would normally compile to:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Some text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>short<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code>
</pre> <p>Custom components allow you to replace these elements with components. You can define components by exporting named exports from the <code>context="module"</code> script of your Layout file:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> h1<span class="token punctuation">,</span> p<span class="token punctuation">,</span> li <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./components.js'</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token punctuation">{</span> h1<span class="token punctuation">,</span> p<span class="token punctuation">,</span> li <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code>
</pre> <p>The named exports must be named after the actual element you want to replace (<code>p</code>, <code>blockquote</code>, etc.), the value must be the component you wish to replace them with. This makes certain named exports ‘protected’ API, make sure you don’t use html names as export names for other values. Named exports whose names do not correspond to an HTML element will be ignored, so feel free to continue using them for other purposes as well. As these are named exports it is possible for the bundler to treeshake unused custom components, even if they are exported.</p> <p>The above custom components would generate:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Components <span class="token keyword">from</span> <span class="token string">'./Layout.svelte'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Components.h1</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Components.h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Components.p</span><span class="token punctuation">></span></span>Some text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Components.p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Components.li</span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Components.li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Components.li</span><span class="token punctuation">></span></span>short<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Components.li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Components.li</span><span class="token punctuation">></span></span>list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Components.li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code>
</pre> <p>Notice that the <code>ul</code> is left intact: elements are replaced <em>after</em> the markdown is parsed to HTML. This allows greater flexibility, for example, when using custom components to customise lists, tables or other markdown that compiles to a combination of different HTML elements.</p> <p>You may also receive attributes of the normal HTML component. For example, to render a custom <code>&lt;img></code> tag you could do:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> src<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src=</span><span class="token language-javascript"><span class="token punctuation">{</span>src<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></code>
</pre> <h2 id=frontmatter-1><a href=#frontmatter-1 aria-hidden=true><span class="icon icon-link"></span></a>Frontmatter</h2> <p>YAML frontmatter is a common convention in blog posts and mdsvex supports it out of the box. If you want to use a custom language or marker for frontmatter than you can use the <a href=docs#frontmatter><code>frontmatter</code></a> option to modify the default behaviour.</p> <p>Mdsvex integrates well with frontmatter providing additional flexibility when authoring documents.</p> <p>All variables defined in frontmatter are available directly in the component, exactly as you wrote them:</p> <pre class=language-mdsvex>
<code class=language-mdsvex><span class="token frontmatter"><span class="token punctuation">---
</span><span class="token language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> My lovely article
<span class="token key atrule">author</span><span class="token punctuation">:</span> Dr. Fabuloso the Fabulous
</span><span class="token punctuation">---</span></span>

<span class="token important title"><span class="token punctuation">#</span> <span class="token language-javascript"><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span> by <span class="token language-javascript"><span class="token punctuation">{</span>author<span class="token punctuation">}</span></span></span>

Some amazing content.</code>
</pre> <p>Additionally, all of these variables are exported as a single object named <code>metadata</code> from the <code>context="module"</code> script, so they can easily be imported in javascript:</p> <pre class=language-svelte>
<code class=language-svelte><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> metadata <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">"My lovely article"</span><span class="token punctuation">,</span>
    author<span class="token operator">:</span> <span class="token string">"Dr. Fabuloso the Fabulous"</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code>
</pre> <p>Due to how <code>context="module"</code> scripts work, this metadata can be imported like this:</p> <pre class=language-js>
<code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> metadata <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./some-mdsvex-file.svx"</span><span class="token punctuation">;</span></code>
</pre> <p>Frontmatter also interacts with layouts, you can find more details in the <a href=docs#layouts>Layout section</a>.</p> <h2 id=integrations><a href=#integrations aria-hidden=true><span class="icon icon-link"></span></a>Integrations</h2> <h3 id=with-sapper><a href=#with-sapper aria-hidden=true><span class="icon icon-link"></span></a>With Sapper</h3> <p>To use mdsvex with sapper you need to add the mdsvex configuration to both the client and server sections of the rollup or webpack configuration. You will also need to add the CLI argument <code>--ext '.svelte .svx'</code> to all of the sapper scripts (<code>dev</code>, <code>build</code>, and <code>export</code>) in order to tell sapper that it should also allow <code>.svx</code> files to be page routes.</p> <p>Or you can use the templates:</p> <ul> <li> <p><a href=https://github.com/pngwn/sapper-mdsvex-template rel=nofollow>Rollup</a></p> <pre class=language-bash>
<code class=language-bash>npx degit <span class="token string">"pngwn/sapper-mdsvex-template"</span> my-app</code>
</pre> </li> <li> <p><a href=https://github.com/shiryel/sapper-mdsvex-template-webpack rel=nofollow>Webpack</a></p> <pre class=language-bash>
<code class=language-bash>npx degit <span class="token string">"shiryel/sapper-mdsvex-template-webpack"</span> my-app</code>
</pre> </li> </ul> <h2 id=limitations><a href=#limitations aria-hidden=true><span class="icon icon-link"></span></a>Limitations</h2> <h3 id=indentation><a href=#indentation aria-hidden=true><span class="icon icon-link"></span></a>Indentation</h3> <p>In markdown you can begin a code block by indenting 4 spaces. This doesn’t work in mdsvex as indentation is common with XML-based languages. Indenting 4 spaces will do nothing.</p> <p>In general you have a lot more flexibility when it comes to indenting code in mdsvex than you do in markdown because of the above change, however, you need to be very careful when indenting fenced code blocks. By which I mean, don’t do it.</p> <p>The following code block will break in a way that is both very bad and quite unexpected:</p> <pre class=language-mdsvex>
<code class=language-mdsvex>		```js
					console.log('Hello, World!')
		```</code>
</pre> <p>The solution is to not do this. When working with fenced code blocks, do not indent them. This isn’t an issue that can really be worked around, even if the parser did make assumptions about what you meant. Because code blocks are designed to respect whitespace, any fix would simply result in a different but equally frustrating failure. Don’t indent code blocks.</article></div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,{}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.a3af9818.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.5.js";s.setAttribute("data-main","/client/client.a3af9818.js")}document.head.appendChild(s)</script> <script data-cf-beacon='{"token": "590d70c530b74f41b117351532dd6809"}' defer src=https://static.cloudflareinsights.com/beacon.min.js></script> 